---
name: feature-spec-estimate-cost
description: 機能仕様書に作業見積もりセクションを追加するSkill。詳細設計をもとに実装コスト（実装＋単体テスト＋レビュー）を見積もります。
---

# Feature Spec Estimate Cost Skill

## 概要

機能仕様書に作業見積もりセクションを追加するSkillです。詳細設計の内容から実装コストを見積もり、**1sp ≒ 1時間（実装＋単体テスト＋レビュー、あくまで目安）**としてスプリント計画に活用します。

**対象読者**: PM・Tech Lead・実装担当（スプリント計画の精度向上のため）

## 見積もり定義

**ストーリーポイント**: 実装コストの単位（フィボナッチ数列：1,2,3,5,8,13）

**スプリント計画の目安**: 1sp ≒ 1時間（実装＋単体テスト＋レビューを含む、あくまで参考値）

**不確実性の表現**: ポイントに幅を持たせる（例: 5-8sp）

## ストーリーポイント基準

| ポイント | 目安 |
|----------|------|
| 0.5 | 設定変更・軽微な修正 |
| 1 | 単純な修正・既存パターンの小変更 |
| 2 | 既存機能の小拡張・単純な新規追加 |
| 3 | 標準的な新規機能・通常の複雑さ |
| 5 | 複数コンポーネント変更・新規ロジック追加 |
| 8 | 大規模変更・新規技術導入・外部連携（**分割推奨**） |
| 13 | 複数機能同時変更・アーキテクチャ変更（**分割推奨**） |

**分割ルール**: 8sp超のタスクは、より小さなタスクへの分割を推奨

## 参考指標（判断目安）

見積もりの参考として以下を考慮します。

| 観点 | 確度が高い場合 | 確度が低い場合 |
|------|---------------|---------------|
| 実装難易度 | 既存パターン・ドキュメント通りの実装 | 新規技術・複雑なロジック・性能要件 |
| 影響範囲 | 単一ファイル・単一コンポーネント | 複数機能・DBスキーマ変更・インフラ変更 |
| 依存関係 | 依存関係明確・外部連携なし | 外部API・サードパーティ・未確定要素 |
| テスト工数 | 単純な正常系・既存テスト流用 | E2Eテスト多数・複雑なシナリオ・モック必要 |

## 出力テンプレート

```markdown
## 作業見積もり

### 見積もりサマリー

| 項目 | ストーリーポイント | 目安日数 |
|------|------------------|----------|
| **合計** | {合計値} | {合計日数}日 |

**目安**: 1sp ≒ 1時間（実装＋単体テスト＋レビューを含む、あくまで参考値）

### タスク一覧

| タスク | ストーリーポイント | 備考 |
|--------|------------------|------|
| {タスク1} | {ポイント} | {複雑さ要因など} |
| {タスク2} | {ポイント幅} | {不確実性がある場合は幅を持たせる} |
| {タスク3} | {ポイント} | |

### リスク要因

- {リスク1}: {影響}
- {リスク2}: {影響}

### 依存関係

- {依存1}
- {依存2}
```

## 実行手順

1. **機能仕様の確認**: 対象の機能仕様書を読み込み、機能概要・要件・影響範囲を確認
2. **タスク分解**: 実装タスクを分解（FE/BE/テストの区別なし）
3. **ポイント見積もり**: 各タスクのストーリーポイントを決定
   - 不確実性がある場合は幅を持たせる（例: 5-8sp）
4. **ドキュメント生成**: テンプレートに沿ってMarkdownセクションを生成
5. **機能仕様書への追記**: 既存の機能仕様書に「作業見積もり」セクションを追加

## 注意事項

- **見積もりは単一値**: 不確実性はポイント幅で表現（例: 5-8sp）
- **最小単位**: 0.5sp単位を許容（極小タスクはまとめて見積もっても可）
- **8sp超のタスクは分割推奨**: 大きすぎるタスクは適切に分割して見積もる
- **類似タスクとの比較**: 過去の実装経験と照らし合わせる
- **見積もりはコミットメントではない**: スプリント計画のための参考値
- **実装進捗に応じて更新**: 不確実性が解消されたら見積もりを見直す

## ドキュメント責務

このSkillはfeature-specの一部として機能仕様書に作業見積もりセクションを追加します。

| ドキュメント | 責務 | 連携先 |
|-------------|------|--------|
| feature-spec-estimate-cost | 作業見積もりセクションの生成 | feature-spec |

## 参考情報

- ストーリーポイントはチームの経験値に基づき定期的に見直す
- 見積もり精度向上のため、実績値との振り返りを行う

## 業界標準との照合

| 項目 | 標準 | 本Skillの採用 |
|------|------|---------------|
| ストーリーポイント | Fibonacci数列（1,2,3,5,8,13）が一般的 | 採用（0.5sp追加） |
| 不確実性表現 | 単一値 or 幅 | ポイント幅（例: 5-8sp） |
| 絶対値化 | 1sp = 〇日の目安を設定 | 1sp ≒ 1時間（あくまで参考値） |
