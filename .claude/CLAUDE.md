# SikouLab プロジェクト指針

## プロダクト原則
- **受動的体験を最優先** - 読む体験が価値の中心
- **作りすぎない** - 初期は最小限、将来拡張を壊さない設計

## スコープ（ver1.0.0）
**対象**: 記事、ニュース、アンケート、米国株銘柄、サブスク、いいね、アナリティクス
**対象外**: チャット、コメント、メール認証、Discord連携

## 禁止コマンド
以下のコマンドは直接実行せず、ユーザーにコマンドを提示して実行を委ねる。

```bash
# Git破壊系
git push --force
git push -f
git reset --hard
git clean -fd

# bash操作
rm -rf
curl

# 本番環境操作
kubectl delete
docker system prune -f
```

## タスク管理
- Jira MCPツールを使用
- タスク進行の詳細は @.claude/rules/workflow.md の「タスク実行フロー」を参照

**Jiraチケット作成時の必須項目**
- **プロジェクトキー**: `KAN`
- **ストーリーポイント**: `additional_fields.customfield_10071`で設定
- **担当者**: `assignee_account_id`で設定（省略時はユーザーに確認）

**チケットテンプレート**

| 項目 | エピック | 子チケット |
|------|----------|------------|
| 概要 | 機能の全体像 | 具体的な作業内容 |
| 目的 | なぜやるか | 何を解決するか |
| スコープ | 対象と範囲 | - |
| 完了条件 | 成功の定義 | 完了の定義 |
| やったこと | 完了時に記載 | 完了時に記載 |
| 情報元 | 参照資料（./docs/features/xxx.md） | 参照資料（./docs/features/xxx.md） |



## 参照情報
- **Pencil**: `docs/versions/1_0_0/SikouLab.pen`

### Pencil画面ノードID一覧

特定画面のみを取得する場合は、以下のノードIDを`mcp__pencil__batch_get`の`nodeIds`パラメータに指定してください。

| 画面名 | ノードID |
|--------|----------|
| ログイン画面 | `h3Lxa` |
| ダッシュボード | `AwSoL` |
| 記事一覧 | `YeKnC` |
| ニュース一覧 | `ZAU4z` |
| 銘柄詳細 | `0Cn3B` |
| アンケート一覧 | `OruNZ` |
| 設定画面 | `kOXOT` |

**使用例**:
```bash
# ダッシュボードのみを取得
mcp__pencil__batch_get(filePath="docs/versions/1_0_0/SikouLab.pen", nodeIds=["AwSoL"])
```

## カラーコード

Pencilデザインに基づくカラーコード定義。

| カテゴリ | ライトモード | ダークモード | 用途 |
|----------|-------------|-------------|------|
| **背景色** | `#FFFFFF` | `#000000` | メイン背景 |
| **プライマリカラー** | `#E86D00` | `#E86D00` | ボタン・ジャンル名・ラベル |
| **セカンダリテキスト** | `#000000` | `#FFFFFF` | サブタイトル・見出し |
| **ティッカー色** | `#63B7E2` | `#63B7E2` | 銘柄コード（ティッカー） |
| **テキスト（日付・時間等）** | `#D5D5D5` | `#EBEBEB` | 日付・時間 |

**補足**
- プライマリカラー（`#E86D00`）はライト/ダーク共通で維持し、視覚的一貫性を確保
- ティッカー色（`#63B7E2`）は銘柄コード表示に使用
- CSS変数として定義し、テーマ切り替え時に一括適用

## Repo Map（AI向けコード索引）
実装を探す前に必ずREPO_MAP.mdを参照すること。

- `backend/REPO_MAP.md` - バックエンド構造索引
- `frontend/REPO_MAP.md` - フロントエンド構造索引

## 詳細ルール
@.claude/rules/workflow.md - 開発フロー（設計→実装→テスト）
@.claude/rules/docs.md - ドキュメント規約
@.claude/rules/frontend.md - フロントエンド規約
@.claude/rules/backend.md - バックエンド規約
