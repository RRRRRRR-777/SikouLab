# 開発ワークフロー

## 基本方針

- ウォーターフォール型 + V字モデルに基づくテスト設計
- 設計先行：設計書完成後に実装開始
- TDD：テストケース先行で実装

## 開発フロー概要

```
1. 要件定義確認 → 2. 基本設計確認 → 3. 詳細設計(/feature-spec)
→ 4. 実装(TDD) → 5. E2Eテスト → 6. PRマージ
```

## 実装開始条件

- feature-spec全セクション記載済
- テストケースセクション記載済
- バックエンド機能: openapi.yaml更新済

## 実装中の原則

- **設計先行**: 変更が必要な場合は設計書を先に更新
- **TDDサイクル維持**: 追加テストケースは設計書に追記後、テストコード実装

## タスク実行フロー

### 1. チケット開始時
- 詳細設計書（`./docs/features/xxx.md`）を読み込む
- 完了条件を確認する
- 不明点があれば必ずユーザーに質問する

### 2. 実装中
- 設計書を常に参照する
- 疑問が生じたら即座にユーザーに質問する
- 気づき・判断・変更点はチケットにコメントとして記録

### 3. 完了前レビュー
- 完了条件を全て満たしたか確認
- レビュー観点を提示してユーザーにレビュー依頼
- **ユーザーの承認を確認してから**Gitコミットを実行する
- フィードバックがあれば修正し、再度レビュー依頼

**レビュー観点のテンプレート**

- [項目] 具体的なファイルや機能
  - 概要: 一目でわかる内容
  - 変更差分:
    - 変更内容1
    - 変更内容2
- [項目] 具体的なファイルや機能
  - 概要: 一目でわかる内容
  - 変更差分:
    - 変更内容1

### 4. チケットクローズ
- レビュー承認後にGitコミット実行
- チケットの「やったこと」欄に実施内容を記載
- チケットステータスを更新して完了

## Gitコミットのフロー

1. **完了条件確認** → レビュー観点を整理
2. **レビュー依頼** → ユーザーにレビュー観点を提示
3. **承認待ち** → ユーザーの承認（「OK」「進めて」など）を待つ
4. **コミット実行** → 承認後に初めてGitコミットを実行

## 詳細手順

詳細なフロー・チェックリスト・V字モデル対応は `/workflow` skillを参照。
